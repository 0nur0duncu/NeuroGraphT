data:
  data_dir: "dataset/sleep-edfx" 
  study: "SC"  # SC (Sleep Cassette) veya ST (Sleep Telemetry)
  channel: "EEG Fpz-Cz"  # EEG kanalı (Fpz-Cz veya Pz-Oz)
  sampling_rate: 100  # Hz
  epoch_duration: 30  # saniye (30s epoch)
  # segment_length = sampling_rate * epoch_duration = 3000 sample
  train_ratio: 0.7
  val_ratio: 0.15
  test_ratio: 0.15
  random_seed: 42
  num_classes: 5  # W, N1, N2, N3, REM
  max_subjects: null  # null = tüm özneler (78 özne, ~120K epoch)

model:
  # CNN Modülü
  cnn:
    in_channels: 1
    conv_channels: [32, 64, 128]
    kernel_sizes: [5, 5, 5]
    pool_size: 2
  
  # Transformer Modülü
  transformer:
    d_model: 128          # Model boyutu
    num_heads: 8          # Attention head sayısı
    num_layers: 4         # Transformer katman sayısı
    d_ff: 512             # Feed-forward boyutu
    max_seq_len: 100      # Maksimum sekans uzunluğu
  
  # Graf Yapısı
  graph:
    num_nodes: 16         # N - düğüm sayısı
    sparsity: 15          # a - seyreklik parametresi (25'ten düşürüldü)
    thresholding: "value" # "value" veya "connection"
  
  # GCN Modülü
  gcn:
    hidden_channels: 128
    num_layers: 3
  
  dropout: 0.1

training:
  batch_size: 256 # 32
  num_epochs: 100
  learning_rate: 0.0002 # 0.0001
  weight_decay: 0.0001
  
  # Learning rate zamanlayıcısı
  scheduler:
    type: "cosine" 
    warmup_epochs: 5
    min_lr: 0.00001
  
  # Early stopping
  early_stopping:
    enabled: true
    patience: 20
    min_delta: 0.001
  
  # Checkpoint
  checkpoint:
    save_best: true
    save_dir: "checkpoints"

class_weights:
  enabled: true  # Dengesiz veri için aktif edildi
  # Sleep stage class weights (W, N1, N2, N3, REM)
  # W: 69.0%, N1: 4.7%, N2: 16.6%, N3: 3.3%, REM: 6.4%
  # N1 ve N3 çok az olduğu için agresif weight'ler kullanıldı
  weights: [1.0, 25.0, 5.0, 20.0, 10.0]  # N1: 25x, N3: 20x ağırlık

evaluation:
  num_runs: 5
  metrics: ["accuracy", "recall", "precision", "f1", "kappa"]
  per_class_metrics: true

logging:
  log_dir: "logs"
  tensorboard: true
  print_every: 10
